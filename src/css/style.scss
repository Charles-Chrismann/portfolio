@use "./functions.scss";
@use "./stars.scss";

@mixin face($x, $y, $color: yellowgreen) {
    width: $x;
    height: $y;
    position: absolute;
    border: solid 1px;
    // background-color: $color;
    background: linear-gradient(0.25turn, #3f87a6, #f69d3c);
    // backface-visibility: hidden;
}

// @mixin faces($x, $y, $z, $color: yellowgreen) {
    
    //     &
    // }
    
@mixin box($x, $y, $z, $color: yellowgreen) {
    // width: $x;
    // height: $y;
    position: absolute;
    display: grid;
    place-items: center;
    width: calc(#{$x} * 1%);
    height: calc(#{$y} * 1%);
    background: $color;

    // & > .face {
    //     outline: solid 10px;
    // }
    
    & > .face:nth-of-type(1){
        // @include face($x, $y, $color);
        background-color: brown;
        // transform: translateZ($z);
        transform: rotateY(-90deg) translateX(100%) rotateY(90deg);

        width: 100%;
        height: calc(100% * #{$z});
        position: absolute;
        border: solid 1px;
        background: linear-gradient(0.25turn, #3f87a6, #f69d3c);
    }
    // @for $i from 2 through 5 {
    //     & > :nth-child(#{$i}) {
    //         @include face(100%, $y, $color);
    //         transform: rotateZ(calc(90deg * #{$i})) translateY($y) rotateX(90deg);
    //     }
    // }

    & > .face:nth-child(2) {
        // @include face(100%, 100%, $color);
        transform: rotateX(-90deg);
        transform-origin: bottom;
        bottom: 0;
        // display: none;

        // width: 100%;
        width: 100%;
        // aspect-ratio: 1 / 1;
        height: calc(100% * #{$z});
        position: absolute;
        border: solid 1px;
        background: linear-gradient(0.25turn, #3f87a6, #f69d3c);
    }
    & > .face:nth-child(3) {
        // @include face($y, $z, $color);
        
        left: 0;
        top: 0;
        // transform: rotateY(90deg) rotateZ(450deg);
        transform: rotateY(-90deg);
        transform-origin: top left;


        // width: 100%;
        // width: 70 * 20 * 2px;
        // width: calc((#{$x} * #{$y} * #{$z} * 1% )/ 70);
        width: calc((100 * #{$y} * #{$z}) / #{$x} * 1%);
        // width: 100%;
        // aspect-ratio: 1 / 1;
        height: 100%;
        position: absolute;
        border: solid 1px;
        background: linear-gradient(0.25turn, #3f87a6, #f69d3c);


    }
    & > .face:nth-child(4) {
        // @include face(100%, $z, $color);
        width: calc((100 * #{$y} * #{$z}) / #{$x} * 1%);
        height: 100%;
        position: absolute;
        border: solid 1px;
        background: linear-gradient(0.25turn, #3f87a6, #f69d3c);
        transform: rotateZ(calc(90deg * 4))rotateX(90deg);
        top: 0;
        transform-origin: top;
    }
    & > .face:nth-child(5) {
        // @include face($y, $z, $color);
        width: calc((100 * #{$y} * #{$z}) / #{$x} * 1%);
        height: 100%;
        position: absolute;
        border: solid 1px;
        background: linear-gradient(0.25turn, #3f87a6, #f69d3c);

        right: 0;
        // transform: rotateZ(270deg)rotateX(90deg);
        bottom: 0;
        // transform: rotate3d(2,0,0, 90deg);
        transform: rotateY(270deg) rotateZ(450deg);
        transform-origin: bottom right;
        
    }
}

.box {
    @include box(10, 10, 1, greenyellow);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    transform-style: preserve-3d;
}

.camera {
    perspective: 150px;
    width: 100%;
    // height: 100vh;
    aspect-ratio: 16 / 9;
    // height: 100vh;
    overflow: hidden;
    outline: solid 1px rgba(255, 0, 0, 0.616);
    position: relative;
    display: grid;
    place-items: center;
    max-height: 100vh;

    .scene {
        position: absolute;
        // transform: rotateX(45deg) rotateZ(-45deg) scale3d(0.2, 0.2, 0.2);
        // transform: rotateX(10deg) rotateZ(-10deg) scale3d(0.05, 0.05, 0.05);
        // transform: rotateY(-90deg) translateX(1%) rotateY(90deg) rotateX(90deg)rotateZ(0deg)scale3d(.05, .05, .05);

        // change translateX value to up cam
        // transform: rotateZ(90deg)translateX(1.1%)rotateZ(-90deg)rotateX(90deg)rotateZ(0)scale3d(.05, .05, .05);
        transform: rotateZ(90deg)translateX(1.1%)rotateZ(-90deg)rotateX(90deg)rotateZ(0)scale3d(.05, .05, .05) rotateZ(40deg);

        // transform: rotateY(-90deg) translateX(100%) rotateY(90deg);
        // transform: scale3d(0.05, 0.05, 0.05);
        // transform: rotateX(45deg) rotateZ(-45deg);
        aspect-ratio: 1 / 1;
        // scale: 0.05;
        // width: 1000px;
        width: 10000px;
        // width: 10000%;
        border: solid 10px;
        border-left: solid 10px red;
        font-size: 50px;
        display: grid;
        place-items: center;

        background: radial-gradient(circle, rgba(20,17,29,1) 0%, #100751 40%, #100751 100%);
        @include functions.world;
        .horizon {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
        }
    }
}

img {
    width: 100%;
    transform-origin: bottom;
    position: absolute;
    top: 0;
    transform: translateY(-100%) rotateX(-90deg);
}

